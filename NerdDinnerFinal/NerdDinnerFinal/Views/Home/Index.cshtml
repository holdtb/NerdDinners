@using NerdDinnerFinal.Models
@{
    ViewBag.Title = "Home Page";
}

<h2>Find a Dinner</h2>

<div id="mapDivLeft">

    <div id="searchBox">
        Enter your location: @Html.TextBox("Location")
        <input id="search" type="submit" value="Search"/>
    </div>

    @Html.Partial("Map", new Dinner())

</div>

<div id="mapDivRight">
    <div id="dinnerList"></div>
</div>


<script type="text/javascript">

    $(document).ready(function() {
        LoadMap();
    });

    $("#search")
        .click(function(evt) {
            var where = jQuery.trim($("#Location").val());
            if (where.length < 1)
                return;

            FindDinnersGivenLocation(where);
        });

    function FindDinnersGivenLocation(where) {
        map.Find("", where, null, null, null, null, null, false,
        null, null, callbackUpdateMapDinners);
    }
</script>